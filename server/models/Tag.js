const { Schema, model } = require('mongoose');


//ALL FIELD NAMES WILL BE SINGULAR
//<filename(lowercase)>Schema
//how retrieve?
//regex?id?
//recipe that has tag property that is an array of tag
//inbuilt function looks for tag name?
//??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
//each tag individual? (retrieve by tag name/id)
//tag contains array of strings? (retrieve array, then search for corresponding string in the array)
//how would recipe be inserted manually?
const tagSchema = new Schema(
    {
        tagName: { //TO BE SEPERATED BY COMMA
            type: String,
            unique: true,
            required: true
        }

    },
    {
        toJSON: {
            getters: true//reminder virutals are like pseudofields
        }
    }
);
//ping
const Tag = model('Tag', tagSchema);
module.exports = Tag;


//model so when referenced in recipe, it is not two separate sets of tags even if they have the same tag(schema)
/*
QUERY APOLLO
query($tagName: String!) {
  tags {
    tagName
  },
  tag(tagName: "Beef") {
    tagName
  }
}

mutation($addTagTagName2: String!){
  addTag(tagName: "contains nuts") {
    tagName
  }
}
*/